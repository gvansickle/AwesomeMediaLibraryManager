diff --git a/KitchenSink.pro b/KitchenSink.pro
new file mode 100644
index 0000000..1b6ca5b
--- /dev/null
+++ b/KitchenSink.pro
@@ -0,0 +1,114 @@
+######################################################################
+# Automatically generated by qmake (3.0) Sa. Mai 7 14:46:48 2016
+######################################################################
+
+TEMPLATE = app
+TARGET = KitchenSink
+INCLUDEPATH += .
+
+# Input
+HEADERS += src/aboutcs.h \
+           src/analogclock.h \
+           src/animated_tiles.h \
+           src/calendar.h \
+           src/colorpicker.h \
+           src/dialogs.h \
+           src/draglabel.h \
+           src/draw.h \
+           src/draw_area.h \
+           src/fontpicker.h \
+           src/fridgemag.h \
+           src/glwidget.h \
+           src/grabber.h \
+           src/international.h \
+           src/lighting.h \
+           src/line_edit.h \
+           src/listview.h \
+           src/mandelbrot_thread.h \
+           src/mandelbrot_widget.h \
+           src/mdi.h \
+           src/screenshot.h \
+           src/script.h \
+           src/sliders.h \
+           src/stdpath.h \
+           src/style_dw.h \
+           src/style_edit.h \
+           src/svg_view.h \
+           src/svgtextobject.h \
+           src/systray.h \
+           src/tabdialog.h \
+           src/tableview.h \
+           src/tablewidget_view.h \
+           src/treeview.h \
+           src/util.h \
+           src/videoplayer.h \
+           src/videosurface.h \
+           src/videowidget.h \
+           src/xml.h \
+           src/xmlpatterns.h \
+           src/xmlsyntaxhighlighter.h
+FORMS += forms/colorpicker.ui \
+         forms/dialogs.ui \
+         forms/fontpicker.ui \
+         forms/international.ui \
+         forms/line_edit.ui \
+         forms/listview.ui \
+         forms/mdi.ui \
+         forms/script.ui \
+         forms/stdpath.ui \
+         forms/style_dw.ui \
+         forms/style_edit.ui \
+         forms/tabdialog.ui \
+         forms/tablewidget_view.ui \
+         forms/xml.ui \
+         forms/xmlpatterns.ui
+SOURCES += src/aboutcs.cpp \
+           src/analogclock.cpp \
+           src/animated_tiles.cpp \
+           src/calendar.cpp \
+           src/colorpicker.cpp \
+           src/dialogs.cpp \
+           src/draglabel.cpp \
+           src/draw.cpp \
+           src/draw_area.cpp \
+           src/fontpicker.cpp \
+           src/fridgemag.cpp \
+           src/glwidget.cpp \
+           src/grabber.cpp \
+           src/international.cpp \
+           src/lighting.cpp \
+           src/line_edit.cpp \
+           src/listview.cpp \
+           src/mandelbrot_thread.cpp \
+           src/mandelbrot_widget.cpp \
+           src/mdi.cpp \
+           src/screenshot.cpp \
+           src/script.cpp \
+           src/sliders.cpp \
+           src/stdpath.cpp \
+           src/style_dw.cpp \
+           src/style_edit.cpp \
+           src/svg_view.cpp \
+           src/svgtextobject.cpp \
+           src/systray.cpp \
+           src/tabdialog.cpp \
+           src/tableview.cpp \
+           src/tablewidget_view.cpp \
+           src/treeview.cpp \
+           src/util.cpp \
+           src/videoplayer.cpp \
+           src/videosurface.cpp \
+           src/videowidget.cpp \
+           src/xml.cpp \
+           src/xmlpatterns.cpp \
+           src/xmlsyntaxhighlighter.cpp \
+           src/main.cpp
+RESOURCES += kitchensink.qrc
+TRANSLATIONS += resources/qt_de.ts resources/qt_en.ts resources/qt_fr.ts
+
+
+CONFIG += c++14
+QT += widgets opengl sql multimedia xml xmlpatterns script svg
+DEFINES += QT_DISABLE_DEPRECATED_BEFORE=0
+DEFINES += USE_QT
+
diff --git a/bin/Makefile.am b/bin/Makefile.am
index 906d7f9..406cb1c 100644
--- a/bin/Makefile.am
+++ b/bin/Makefile.am
@@ -10,7 +10,7 @@ gccpath=$(dir $(shell which $(word 1,$(CC))))
 gcclibs=libgcc_s_*-1  libstdc++-6  libwinpthread-1
 
 # list of CopperSpice libraries
-cslibs=Core Gui Multimedia Network OpenGL Phonon Script Sql Svg WebKit Xml XmlPatterns
+cslibs=Core Gui Multimedia Network OpenGL Phonon Script Sql Svg Xml XmlPatterns
 # Declarative  (on hold)
 
 # location of includes
@@ -154,7 +154,6 @@ KitchenSink_SOURCES = \
    src/fontpicker.cpp \
    src/glwidget.cpp \
    src/grabber.cpp  \
-   src/html_viewer.cpp \
    src/international.cpp \
    src/lighting.cpp \
    src/line_edit.cpp \
@@ -163,7 +162,6 @@ KitchenSink_SOURCES = \
    src/mandelbrot_thread.cpp \
    src/mandelbrot_widget.cpp \
    src/mdi.cpp \
-   src/musicplayer.cpp  \
    src/screenshot.cpp \
    src/sliders.cpp \
    src/script.cpp \
@@ -181,7 +179,6 @@ KitchenSink_SOURCES = \
    src/videosurface.cpp \
    src/videoplayer.cpp \
    src/videowidget.cpp \
-   src/web_browser.cpp \
    src/xml.cpp \
    src/xmlpatterns.cpp \
    src/xmlsyntaxhighlighter.cpp
@@ -198,12 +195,10 @@ noinst_HEADERS = \
    src/draw.h \
    src/draw_area.h \
    src/fontpicker.h \
-   src/html_viewer.h  \
    src/international.h \
    src/line_edit.h \
    src/listview.h \
    src/mdi.h \
-   src/musicplayer.h \
    src/script.h \
    src/stdpath.h \
    src/sliders.h \
@@ -220,7 +215,6 @@ noinst_HEADERS = \
    src/videoplayer.h \
    src/videowidget.h \
    src/videosurface.h \
-   src/web_browser.h \
    src/analogclock.h  \
    src/animated_tiles.h  \
    src/draglabel.h \
@@ -244,11 +238,9 @@ FORMS = \
     forms/colorpicker.ui \
     forms/fontpicker.ui \
     forms/dialogs.ui \
-    forms/html_viewer.ui \
     forms/international.ui \
     forms/line_edit.ui \
     forms/listview.ui \
-    forms/musicplayer.ui \
     forms/stdpath.ui \
     forms/style_dw.ui \
     forms/style_edit.ui \
diff --git a/bin/Makefile.in b/bin/Makefile.in
index f733a6d..07b7820 100644
--- a/bin/Makefile.in
+++ b/bin/Makefile.in
@@ -111,12 +111,11 @@ am_KitchenSink_OBJECTS = src/aboutcs.$(OBJEXT) \
 	src/draw.$(OBJEXT) src/draw_area.$(OBJEXT) \
 	src/fridgemag.$(OBJEXT) src/fontpicker.$(OBJEXT) \
 	src/glwidget.$(OBJEXT) src/grabber.$(OBJEXT) \
-	src/html_viewer.$(OBJEXT) src/international.$(OBJEXT) \
 	src/lighting.$(OBJEXT) src/line_edit.$(OBJEXT) \
 	src/listview.$(OBJEXT) src/main.$(OBJEXT) \
 	src/mandelbrot_thread.$(OBJEXT) \
 	src/mandelbrot_widget.$(OBJEXT) src/mdi.$(OBJEXT) \
-	src/musicplayer.$(OBJEXT) src/screenshot.$(OBJEXT) \
+	src/screenshot.$(OBJEXT) \
 	src/sliders.$(OBJEXT) src/script.$(OBJEXT) \
 	src/stdpath.$(OBJEXT) src/style_edit.$(OBJEXT) \
 	src/style_dw.$(OBJEXT) src/svg_view.$(OBJEXT) \
@@ -125,7 +124,7 @@ am_KitchenSink_OBJECTS = src/aboutcs.$(OBJEXT) \
 	src/tabdialog.$(OBJEXT) src/treeview.$(OBJEXT) \
 	src/util.$(OBJEXT) src/videosurface.$(OBJEXT) \
 	src/videoplayer.$(OBJEXT) src/videowidget.$(OBJEXT) \
-	src/web_browser.$(OBJEXT) src/xml.$(OBJEXT) \
+	src/international.$(OBJEXT) src/xml.$(OBJEXT) \
 	src/xmlpatterns.$(OBJEXT) src/xmlsyntaxhighlighter.$(OBJEXT)
 nodist_KitchenSink_OBJECTS = qrc_kitchensink.$(OBJEXT)
 KitchenSink_OBJECTS = $(am_KitchenSink_OBJECTS) \
@@ -370,7 +369,7 @@ gccpath = $(dir $(shell which $(word 1,$(CC))))
 gcclibs = libgcc_s_*-1  libstdc++-6  libwinpthread-1
 
 # list of CopperSpice libraries
-cslibs = Core Gui Multimedia Network OpenGL Phonon Script Sql Svg WebKit Xml XmlPatterns
+cslibs = Core Gui Multimedia Network OpenGL Phonon Script Sql Svg Xml XmlPatterns
 @OSTYPE_WIN_TRUE@installdir = $(abs_top_builddir)/install
 @OSTYPE_DARWIN_TRUE@deployapp = $(deploydir)/$(bin_PROGRAMS).app/Contents
 
@@ -391,7 +390,6 @@ KitchenSink_SOURCES = \
    src/fontpicker.cpp \
    src/glwidget.cpp \
    src/grabber.cpp  \
-   src/html_viewer.cpp \
    src/international.cpp \
    src/lighting.cpp \
    src/line_edit.cpp \
@@ -400,7 +398,6 @@ KitchenSink_SOURCES = \
    src/mandelbrot_thread.cpp \
    src/mandelbrot_widget.cpp \
    src/mdi.cpp \
-   src/musicplayer.cpp  \
    src/screenshot.cpp \
    src/sliders.cpp \
    src/script.cpp \
@@ -418,7 +415,6 @@ KitchenSink_SOURCES = \
    src/videosurface.cpp \
    src/videoplayer.cpp \
    src/videowidget.cpp \
-   src/web_browser.cpp \
    src/xml.cpp \
    src/xmlpatterns.cpp \
    src/xmlsyntaxhighlighter.cpp
@@ -435,12 +431,10 @@ noinst_HEADERS = \
    src/draw.h \
    src/draw_area.h \
    src/fontpicker.h \
-   src/html_viewer.h  \
    src/international.h \
    src/line_edit.h \
    src/listview.h \
    src/mdi.h \
-   src/musicplayer.h \
    src/script.h \
    src/stdpath.h \
    src/sliders.h \
@@ -457,7 +451,6 @@ noinst_HEADERS = \
    src/videoplayer.h \
    src/videowidget.h \
    src/videosurface.h \
-   src/web_browser.h \
    src/analogclock.h  \
    src/animated_tiles.h  \
    src/draglabel.h \
@@ -481,11 +474,9 @@ FORMS = \
     forms/colorpicker.ui \
     forms/fontpicker.ui \
     forms/dialogs.ui \
-    forms/html_viewer.ui \
     forms/international.ui \
     forms/line_edit.ui \
     forms/listview.ui \
-    forms/musicplayer.ui \
     forms/stdpath.ui \
     forms/style_dw.ui \
     forms/style_edit.ui \
@@ -620,8 +611,6 @@ src/glwidget.$(OBJEXT): src/$(am__dirstamp) \
 	src/$(DEPDIR)/$(am__dirstamp)
 src/grabber.$(OBJEXT): src/$(am__dirstamp) \
 	src/$(DEPDIR)/$(am__dirstamp)
-src/html_viewer.$(OBJEXT): src/$(am__dirstamp) \
-	src/$(DEPDIR)/$(am__dirstamp)
 src/international.$(OBJEXT): src/$(am__dirstamp) \
 	src/$(DEPDIR)/$(am__dirstamp)
 src/lighting.$(OBJEXT): src/$(am__dirstamp) \
@@ -636,8 +625,6 @@ src/mandelbrot_thread.$(OBJEXT): src/$(am__dirstamp) \
 src/mandelbrot_widget.$(OBJEXT): src/$(am__dirstamp) \
 	src/$(DEPDIR)/$(am__dirstamp)
 src/mdi.$(OBJEXT): src/$(am__dirstamp) src/$(DEPDIR)/$(am__dirstamp)
-src/musicplayer.$(OBJEXT): src/$(am__dirstamp) \
-	src/$(DEPDIR)/$(am__dirstamp)
 src/screenshot.$(OBJEXT): src/$(am__dirstamp) \
 	src/$(DEPDIR)/$(am__dirstamp)
 src/sliders.$(OBJEXT): src/$(am__dirstamp) \
@@ -671,8 +658,6 @@ src/videoplayer.$(OBJEXT): src/$(am__dirstamp) \
 	src/$(DEPDIR)/$(am__dirstamp)
 src/videowidget.$(OBJEXT): src/$(am__dirstamp) \
 	src/$(DEPDIR)/$(am__dirstamp)
-src/web_browser.$(OBJEXT): src/$(am__dirstamp) \
-	src/$(DEPDIR)/$(am__dirstamp)
 src/xml.$(OBJEXT): src/$(am__dirstamp) src/$(DEPDIR)/$(am__dirstamp)
 src/xmlpatterns.$(OBJEXT): src/$(am__dirstamp) \
 	src/$(DEPDIR)/$(am__dirstamp)
@@ -704,7 +689,6 @@ distclean-compile:
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/fridgemag.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/glwidget.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/grabber.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/html_viewer.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/international.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/lighting.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/line_edit.Po@am__quote@
@@ -713,7 +697,6 @@ distclean-compile:
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/mandelbrot_thread.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/mandelbrot_widget.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/mdi.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/musicplayer.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/screenshot.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/script.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/sliders.Po@am__quote@
@@ -731,7 +714,6 @@ distclean-compile:
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/videoplayer.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/videosurface.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/videowidget.Po@am__quote@
-@AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/web_browser.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/xml.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/xmlpatterns.Po@am__quote@
 @AMDEP_TRUE@@am__include@ @am__quote@src/$(DEPDIR)/xmlsyntaxhighlighter.Po@am__quote@
diff --git a/src/aboutcs.cpp b/src/aboutcs.cpp
index 5b6b74b..b3f7c95 100755
--- a/src/aboutcs.cpp
+++ b/src/aboutcs.cpp
@@ -63,8 +63,8 @@ AboutCS::AboutCS(QString route)
    closePB->setText("Close");
 
    //
-   m_viewer = new QWebView;  
-   m_viewer->setUrl(url);
+  // m_viewer = new QWebView;
+  // m_viewer->setUrl(url);
 
    //
    QHBoxLayout *buttonLayout = new QHBoxLayout;
@@ -75,7 +75,7 @@ AboutCS::AboutCS(QString route)
    buttonLayout->addStretch();
 
    QVBoxLayout *mainLayout = new QVBoxLayout;
-   mainLayout->addWidget(m_viewer);
+   //mainLayout->addWidget(m_viewer);
    mainLayout->addSpacing(10);
    mainLayout->addLayout(buttonLayout);
    setLayout(mainLayout);
@@ -89,7 +89,7 @@ AboutCS::AboutCS(QString route)
 
 void AboutCS::actionHome() {
    QString url = "http://www.copperspice.com/kitchensink.html";
-   m_viewer->setUrl(url);
+   //m_viewer->setUrl(url);
 }
 
 void AboutCS::actionClose() {
@@ -100,3 +100,6 @@ QSize AboutCS::sizeHint() const
 {
    return QSize(800, 600);
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(AboutCS)
+#endif
diff --git a/src/aboutcs.h b/src/aboutcs.h
index 6c795a9..423bae7 100755
--- a/src/aboutcs.h
+++ b/src/aboutcs.h
@@ -32,11 +32,15 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef ABOUTCS_H
 #define ABOUTCS_H
 
-#include <QtWebKit>
+//#include <QtWebKit>
 #include <QWidget>
 
 class AboutCS : public QWidget
@@ -48,7 +52,7 @@ class AboutCS : public QWidget
       QSize sizeHint() const;
 
    private:
-      QWebView *m_viewer;
+  //    QWebView *m_viewer;
   
       CS_SLOT_1(Private, void actionClose())
       CS_SLOT_2(actionClose) 
diff --git a/src/analogclock.cpp b/src/analogclock.cpp
index f85a4b4..b6d8edd 100755
--- a/src/analogclock.cpp
+++ b/src/analogclock.cpp
@@ -104,3 +104,6 @@ void AnalogClock::paintEvent(QPaintEvent *)
     }
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(AnalogClock)
+#endif
diff --git a/src/analogclock.h b/src/analogclock.h
index 5352767..034fde6 100755
--- a/src/analogclock.h
+++ b/src/analogclock.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef ANALOGCLOCK_H
 #define ANALOGCLOCK_H
diff --git a/src/animated_tiles.cpp b/src/animated_tiles.cpp
index c8248c2..3deb032 100755
--- a/src/animated_tiles.cpp
+++ b/src/animated_tiles.cpp
@@ -161,3 +161,12 @@ AnimatedTiles::AnimatedTiles(QWidget *parent)
 }
 
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(AnimatedTiles)
+#endif
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Button)
+#endif
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Pixmap)
+#endif
diff --git a/src/animated_tiles.h b/src/animated_tiles.h
index c44218a..89cfdb5 100755
--- a/src/animated_tiles.h
+++ b/src/animated_tiles.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef ANIMATED_TILES_H
 #define ANIMATED_TILES_H
@@ -66,8 +70,6 @@ class Pixmap : public QObject, public QGraphicsPixmapItem
 {
    CS_OBJECT_MULTIPLE(Pixmap, QObject)
 
-   CS_PROPERTY_READ(pos, pos)
-   CS_PROPERTY_WRITE(pos, ks_setPos)
 
    public:
       Pixmap(const QPixmap &pix)
@@ -79,6 +81,15 @@ class Pixmap : public QObject, public QGraphicsPixmapItem
       // wrapper for overloaded method
       inline void ks_setPos(const QPointF &pos);
 
+#if defined(USE_VERDIGRIS)
+        W_PROPERTY(QPointF, pos READ pos WRITE ks_setPos)
+#elif defined(USE_QT)
+        Q_PROPERTY(QPointF pos READ pos WRITE ks_setPos)
+#else
+        CS_PROPERTY_READ(pos, pos)
+        CS_PROPERTY_WRITE(pos, ks_setPos)
+#endif
+
 };
 
 void Pixmap::ks_setPos(const QPointF &pos)
diff --git a/src/calendar.cpp b/src/calendar.cpp
index bedee4d..316166a 100755
--- a/src/calendar.cpp
+++ b/src/calendar.cpp
@@ -418,12 +418,15 @@ void Calendar::createTextFormatsGroupBox()
 QComboBox *Calendar::createColorComboBox()
 {
    QComboBox *comboBox = new QComboBox;
-   comboBox->addItem(tr("Black"),   Qt::black);
-   comboBox->addItem(tr("Blue"),    Qt::blue);
-   comboBox->addItem(tr("Green"),   Qt::green);
-   comboBox->addItem(tr("Red"),     Qt::darkRed);
-   comboBox->addItem(tr("Magenta"), Qt::magenta);
-   comboBox->addItem(tr("Yellow"),  Qt::darkYellow);
+   comboBox->addItem(tr("Black"),   QColor(Qt::black));
+   comboBox->addItem(tr("Blue"),    QColor(Qt::blue));
+   comboBox->addItem(tr("Green"),   QColor(Qt::green));
+   comboBox->addItem(tr("Red"),     QColor(Qt::darkRed));
+   comboBox->addItem(tr("Magenta"), QColor(Qt::magenta));
+   comboBox->addItem(tr("Yellow"),  QColor(Qt::darkYellow));
 
    return comboBox;
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Calendar)
+#endif
diff --git a/src/calendar.h b/src/calendar.h
index 37158af..445ceef 100755
--- a/src/calendar.h
+++ b/src/calendar.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef CALENDAR_H
 #define CALENDAR_H
diff --git a/src/colorpicker.cpp b/src/colorpicker.cpp
index 558abaf..459a983 100755
--- a/src/colorpicker.cpp
+++ b/src/colorpicker.cpp
@@ -87,3 +87,6 @@ void ColorPicker::setColor()
 void ColorPicker::actionClose() {
    this->parentWidget()->close();
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(ColorPicker)
+#endif
diff --git a/src/colorpicker.h b/src/colorpicker.h
index ac1e1f2..6301fc4 100755
--- a/src/colorpicker.h
+++ b/src/colorpicker.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef COLORPICKER_H
 #define COLORPICKER_H
diff --git a/src/cs_abstraction.h b/src/cs_abstraction.h
new file mode 100644
index 0000000..8ac3036
--- /dev/null
+++ b/src/cs_abstraction.h
@@ -0,0 +1,25 @@
+#pragma once
+
+#ifdef USE_VERDIGRIS
+
+#include <wobjectimpl.h>
+
+#define CS_OBJECT(X) W_OBJECT(X)
+#define CS_OBJECT_MULTIPLE(X,XX) W_OBJECT(X)
+#define CS_SLOT_1(XX,...) __VA_ARGS__;
+#define CS_SLOT_2(X) W_SLOT(X)
+#define CS_SIGNAL_1(XX,...) __VA_ARGS__
+#define CS_SIGNAL_2(...) W_SIGNAL(__VA_ARGS__)
+#define CS_INTERFACES(XX) Q_INTERFACES(XX)
+
+#elif defined(USE_QT)
+
+#define CS_OBJECT(X) Q_OBJECT
+#define CS_OBJECT_MULTIPLE(X,XX) Q_OBJECT
+#define CS_SLOT_1(XX,...) Q_SLOT __VA_ARGS__;
+#define CS_SLOT_2(...)
+#define CS_SIGNAL_1(XX,...) Q_SIGNAL __VA_ARGS__;
+#define CS_SIGNAL_2(...)
+#define CS_INTERFACES(XX) Q_INTERFACES(XX)
+
+#endif
diff --git a/src/dialogs.cpp b/src/dialogs.cpp
index 22f23a7..a2015a2 100755
--- a/src/dialogs.cpp
+++ b/src/dialogs.cpp
@@ -37,6 +37,9 @@
 #include "ui_dialogs.h"
 
 #include <QtGui>
+#include <QInputDialog>
+#include <QMessageBox>
+#include <QFileDialog>
 
 #define MESSAGE  Dialogs::tr("<p>Message boxes have a caption, text, " \
    "and any number of buttons, each with standard or custom text." \
@@ -246,3 +249,6 @@ void Dialogs::errorMessage()
 
    ui->error_lineEdit->setText(tr("If the box is unchecked, the message will not appear again."));
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Dialogs)
+#endif
diff --git a/src/dialogs.h b/src/dialogs.h
index 5a05be3..c5f5606 100755
--- a/src/dialogs.h
+++ b/src/dialogs.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef DIALOGS_H
 #define DIALOGS_H
diff --git a/src/draglabel.h b/src/draglabel.h
index 46be470..5ccee01 100755
--- a/src/draglabel.h
+++ b/src/draglabel.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef DRAGLABEL_H
 #define DRAGLABEL_H
diff --git a/src/draw.cpp b/src/draw.cpp
index 04c14b3..ec2f9a8 100755
--- a/src/draw.cpp
+++ b/src/draw.cpp
@@ -37,6 +37,7 @@
 #include "draw.h"
 
 #include <QtGui>
+#include <QGridLayout>
 
 const int IdRole = Qt::UserRole;
 
@@ -72,12 +73,12 @@ Draw::Draw()
     penWidthLabel->setBuddy(penWidthSpinBox);
 
     penStyleComboBox = new QComboBox;
-    penStyleComboBox->addItem(tr("Solid"), Qt::SolidLine);
-    penStyleComboBox->addItem(tr("Dash"), Qt::DashLine);
-    penStyleComboBox->addItem(tr("Dot"), Qt::DotLine);
-    penStyleComboBox->addItem(tr("Dash Dot"), Qt::DashDotLine);
-    penStyleComboBox->addItem(tr("Dash Dot Dot"), Qt::DashDotDotLine);
-    penStyleComboBox->addItem(tr("None"), Qt::NoPen);
+    penStyleComboBox->addItem(tr("Solid"), int(Qt::SolidLine));
+    penStyleComboBox->addItem(tr("Dash"), int(Qt::DashLine));
+    penStyleComboBox->addItem(tr("Dot"), int(Qt::DotLine));
+    penStyleComboBox->addItem(tr("Dash Dot"), int(Qt::DashDotLine));
+    penStyleComboBox->addItem(tr("Dash Dot Dot"), int(Qt::DashDotDotLine));
+    penStyleComboBox->addItem(tr("None"), int(Qt::NoPen));
 
     penStyleLabel = new QLabel(tr("&Pen Style:"));
     penStyleLabel->setBuddy(penStyleComboBox);
@@ -99,25 +100,25 @@ Draw::Draw()
     penJoinLabel->setBuddy(penJoinComboBox);    
 
     brushStyleComboBox = new QComboBox;
-    brushStyleComboBox->addItem(tr("Linear Gradient"),  Qt::LinearGradientPattern);
-    brushStyleComboBox->addItem(tr("Radial Gradient"),  Qt::RadialGradientPattern);
-    brushStyleComboBox->addItem(tr("Conical Gradient"), Qt::ConicalGradientPattern);
-    brushStyleComboBox->addItem(tr("Texture"), Qt::TexturePattern);
-    brushStyleComboBox->addItem(tr("Solid"), Qt::SolidPattern);
-    brushStyleComboBox->addItem(tr("Horizontal"), Qt::HorPattern);
-    brushStyleComboBox->addItem(tr("Vertical"), Qt::VerPattern);
-    brushStyleComboBox->addItem(tr("Cross"), Qt::CrossPattern);
-    brushStyleComboBox->addItem(tr("Backward Diagonal"), Qt::BDiagPattern);
-    brushStyleComboBox->addItem(tr("Forward Diagonal"), Qt::FDiagPattern);
-    brushStyleComboBox->addItem(tr("Diagonal Cross"), Qt::DiagCrossPattern);
-    brushStyleComboBox->addItem(tr("Dense 1"), Qt::Dense1Pattern);
-    brushStyleComboBox->addItem(tr("Dense 2"), Qt::Dense2Pattern);
-    brushStyleComboBox->addItem(tr("Dense 3"), Qt::Dense3Pattern);
-    brushStyleComboBox->addItem(tr("Dense 4"), Qt::Dense4Pattern);
-    brushStyleComboBox->addItem(tr("Dense 5"), Qt::Dense5Pattern);
-    brushStyleComboBox->addItem(tr("Dense 6"), Qt::Dense6Pattern);
-    brushStyleComboBox->addItem(tr("Dense 7"), Qt::Dense7Pattern);
-    brushStyleComboBox->addItem(tr("None"), Qt::NoBrush);
+    brushStyleComboBox->addItem(tr("Linear Gradient"),  int(Qt::LinearGradientPattern));
+    brushStyleComboBox->addItem(tr("Radial Gradient"),  int(Qt::RadialGradientPattern));
+    brushStyleComboBox->addItem(tr("Conical Gradient"), int(Qt::ConicalGradientPattern));
+    brushStyleComboBox->addItem(tr("Texture"),          int(Qt::TexturePattern));
+    brushStyleComboBox->addItem(tr("Solid"),            int(Qt::SolidPattern));
+    brushStyleComboBox->addItem(tr("Horizontal"),       int(Qt::HorPattern));
+    brushStyleComboBox->addItem(tr("Vertical"),         int(Qt::VerPattern));
+    brushStyleComboBox->addItem(tr("Cross"),            int(Qt::CrossPattern));
+    brushStyleComboBox->addItem(tr("Backward Diagonal"),int(Qt::BDiagPattern));
+    brushStyleComboBox->addItem(tr("Forward Diagonal"), int(Qt::FDiagPattern));
+    brushStyleComboBox->addItem(tr("Diagonal Cross"),   int(Qt::DiagCrossPattern));
+    brushStyleComboBox->addItem(tr("Dense 1"),          int(Qt::Dense1Pattern));
+    brushStyleComboBox->addItem(tr("Dense 2"),          int(Qt::Dense2Pattern));
+    brushStyleComboBox->addItem(tr("Dense 3"),          int(Qt::Dense3Pattern));
+    brushStyleComboBox->addItem(tr("Dense 4"),          int(Qt::Dense4Pattern));
+    brushStyleComboBox->addItem(tr("Dense 5"),          int(Qt::Dense5Pattern));
+    brushStyleComboBox->addItem(tr("Dense 6"),          int(Qt::Dense6Pattern));
+    brushStyleComboBox->addItem(tr("Dense 7"),          int(Qt::Dense7Pattern));
+    brushStyleComboBox->addItem(tr("None"),             int(Qt::NoBrush));
 
     brushStyleLabel = new QLabel(tr("&Brush:"));
     brushStyleLabel->setBuddy(brushStyleComboBox);
@@ -223,3 +224,6 @@ void Draw::brushChanged()
     }
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Draw)
+#endif
diff --git a/src/draw.h b/src/draw.h
index b5ddb80..a95d698 100755
--- a/src/draw.h
+++ b/src/draw.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef DRAW_H
 #define DRAW_H
diff --git a/src/draw_area.cpp b/src/draw_area.cpp
index 489d201..86d7e54 100755
--- a/src/draw_area.cpp
+++ b/src/draw_area.cpp
@@ -36,6 +36,10 @@
 #include "draw_area.h"
 #include <QtGui>
 
+#ifdef W_REGISTER_ARGTYPE
+W_REGISTER_ARGTYPE(DrawArea::Shape)
+#endif
+
 DrawArea::DrawArea(QWidget *parent)
     : QWidget(parent)
 {
@@ -174,3 +178,6 @@ void DrawArea::paintEvent(QPaintEvent * /* event */)
     painter.drawRect(QRect(0, 0, width() - 1, height() - 1));
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(DrawArea)
+#endif
diff --git a/src/draw_area.h b/src/draw_area.h
index 7344317..028e9cc 100755
--- a/src/draw_area.h
+++ b/src/draw_area.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef DRAWAREA_H
 #define DRAWAREA_H
diff --git a/src/fontpicker.cpp b/src/fontpicker.cpp
index 2c20078..120a958 100755
--- a/src/fontpicker.cpp
+++ b/src/fontpicker.cpp
@@ -79,3 +79,6 @@ void FontPicker::setFont()
 void FontPicker::actionClose() {
    this->parentWidget()->close();
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(FontPicker)
+#endif
diff --git a/src/fontpicker.h b/src/fontpicker.h
index 2d97316..390cfbf 100755
--- a/src/fontpicker.h
+++ b/src/fontpicker.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef FONTPICKER_H
 #define FONTPICKER_H
diff --git a/src/fridgemag.h b/src/fridgemag.h
index 70a0354..ab14088 100755
--- a/src/fridgemag.h
+++ b/src/fridgemag.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef FRIDGEMAG_H
 #define FRIDGEMAG_H
diff --git a/src/glwidget.cpp b/src/glwidget.cpp
index 4e5b0c0..00d3449 100755
--- a/src/glwidget.cpp
+++ b/src/glwidget.cpp
@@ -276,3 +276,6 @@ void GLWidget::normalizeAngle(int *angle)
     while (*angle > 360 * 16)
         *angle -= 360 * 16;
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(GLWidget)
+#endif
diff --git a/src/glwidget.h b/src/glwidget.h
index a006c94..1a14cc7 100755
--- a/src/glwidget.h
+++ b/src/glwidget.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef GLWIDGET_H
 #define GLWIDGET_H
diff --git a/src/grabber.cpp b/src/grabber.cpp
index d453659..425cdf3 100755
--- a/src/grabber.cpp
+++ b/src/grabber.cpp
@@ -209,3 +209,6 @@ QSize Grabber::sizeHint() const
 }
 
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Grabber)
+#endif
diff --git a/src/grabber.h b/src/grabber.h
index bb62dfd..b9dece8 100755
--- a/src/grabber.h
+++ b/src/grabber.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef GRABBER_H
 #define GRABBER_H
diff --git a/src/international.cpp b/src/international.cpp
index da33bde..2ec69a5 100755
--- a/src/international.cpp
+++ b/src/international.cpp
@@ -133,3 +133,6 @@ void International::actionClose()
 }
 
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(International)
+#endif
diff --git a/src/international.h b/src/international.h
index 05b8f88..e73e13c 100755
--- a/src/international.h
+++ b/src/international.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef INTERNATIONAL_H
 #define INTERNATIONAL_H
diff --git a/src/lighting.cpp b/src/lighting.cpp
index a270358..47011d2 100755
--- a/src/lighting.cpp
+++ b/src/lighting.cpp
@@ -140,3 +140,6 @@ void Lighting::setupScene()
 void Lighting::resizeEvent(QResizeEvent */*event*/)
 {
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Lighting)
+#endif
diff --git a/src/lighting.h b/src/lighting.h
index 923f2eb..73047ed 100755
--- a/src/lighting.h
+++ b/src/lighting.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef LIGHTING_H
 #define LIGHTING_H
diff --git a/src/line_edit.cpp b/src/line_edit.cpp
index 2e3743b..2d4552d 100755
--- a/src/line_edit.cpp
+++ b/src/line_edit.cpp
@@ -175,3 +175,6 @@ void LineEdit::readonlyChanged(int index)
    }
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(LineEdit)
+#endif
diff --git a/src/line_edit.h b/src/line_edit.h
index b904f97..472f548 100755
--- a/src/line_edit.h
+++ b/src/line_edit.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef LINEEDIT_H
 #define LINEEDIT_H
diff --git a/src/listview.cpp b/src/listview.cpp
index c655741..ef78089 100755
--- a/src/listview.cpp
+++ b/src/listview.cpp
@@ -117,3 +117,6 @@ void ListView::delRow()
 
 
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(ListView)
+#endif
diff --git a/src/listview.h b/src/listview.h
index 7fd4f89..b4ff66b 100755
--- a/src/listview.h
+++ b/src/listview.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef LISTVIEW_H
 #define LISTVIEW_H
diff --git a/src/main.cpp b/src/main.cpp
index 1301cfa..f5ee76f 100755
--- a/src/main.cpp
+++ b/src/main.cpp
@@ -35,7 +35,7 @@
 
 #include "mdi.h"
 
-#include <QtGui/QApplication>
+#include <QApplication>
 
 int main(int argc, char *argv[])
 {
diff --git a/src/mandelbrot_thread.cpp b/src/mandelbrot_thread.cpp
index 51772af..93d4f68 100755
--- a/src/mandelbrot_thread.cpp
+++ b/src/mandelbrot_thread.cpp
@@ -191,3 +191,6 @@ uint Mandelbrot_Thread::rgbFromWaveLength(double wave)
     return qRgb(int(r * 255), int(g * 255), int(b * 255));
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Mandelbrot_Thread)
+#endif
diff --git a/src/mandelbrot_thread.h b/src/mandelbrot_thread.h
index c887e43..18daf35 100755
--- a/src/mandelbrot_thread.h
+++ b/src/mandelbrot_thread.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef MANDELBROT_THREAD_H
 #define MANDELBROT_THREAD_H
diff --git a/src/mandelbrot_widget.cpp b/src/mandelbrot_widget.cpp
index 5de0f59..e986b92 100755
--- a/src/mandelbrot_widget.cpp
+++ b/src/mandelbrot_widget.cpp
@@ -203,3 +203,6 @@ void Mandelbrot_Widget::zoom(double zoomFactor)
    thread.render(centerX, centerY, curScale, size());
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Mandelbrot_Widget)
+#endif
diff --git a/src/mandelbrot_widget.h b/src/mandelbrot_widget.h
index e4d23e0..349cb3e 100755
--- a/src/mandelbrot_widget.h
+++ b/src/mandelbrot_widget.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef MANDELBROT_WIDGET_H
 #define MANDELBROT_WIDGET_H
diff --git a/src/mdi.cpp b/src/mdi.cpp
index 018fbda..c7856aa 100755
--- a/src/mdi.cpp
+++ b/src/mdi.cpp
@@ -40,9 +40,9 @@
 #include "dialogs.h"
 #include "draw.h"
 #include "fontpicker.h"
-#include "html_viewer.h"
+// #include "html_viewer.h"
 #include "international.h"
-#include "musicplayer.h"
+// #include "musicplayer.h"
 #include "line_edit.h"
 #include "listview.h"
 // #include "script.h" (QScript)
@@ -56,7 +56,7 @@
 #include "tablewidget_view.h"
 #include "treeview.h"
 #include "videoplayer.h"
-#include "web_browser.h"
+// #include "web_browser.h"
 #include "xml.h"
 #include "xmlpatterns.h"
 
@@ -207,13 +207,13 @@ void Mdi::on_actionXmlPatterns_triggered()
 // audio & visual
 void Mdi::on_actionMusicPlayer_triggered()
 { 
-   MusicPlayer *oDw = new MusicPlayer();
-
-   if ( oDw->loaded() ) {
-      addMdiChild(oDw);
-   } else {
-      delete oDw;
-   }
+//    MusicPlayer *oDw = new MusicPlayer();
+//
+//    if ( oDw->loaded() ) {
+//       addMdiChild(oDw);
+//    } else {
+//       delete oDw;
+//    }
 }
 
 void Mdi::on_actionVideoWidget_triggered()
@@ -224,14 +224,14 @@ void Mdi::on_actionVideoWidget_triggered()
 
 void Mdi::on_actionHTML_Viewer_triggered()
 {
-   Html_Viewer *oDw = new Html_Viewer();
-   addMdiChild(oDw);
+//    Html_Viewer *oDw = new Html_Viewer();
+//    addMdiChild(oDw);
 }
 
 void Mdi::on_actionWebBrowser_triggered()
 {   
-   WebBrowser *oDw = new WebBrowser(this);
-   addMdiChild(oDw);
+//    WebBrowser *oDw = new WebBrowser(this);
+//    addMdiChild(oDw);
 }
 
 
@@ -386,3 +386,6 @@ void Mdi::on_actionAbout_triggered()
 
    msgB.exec();
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Mdi)
+#endif
diff --git a/src/mdi.h b/src/mdi.h
index 7cea8de..2a5ed15 100755
--- a/src/mdi.h
+++ b/src/mdi.h
@@ -32,13 +32,17 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef MDI_H
 #define MDI_H
 
 #include "ui_mdi.h"
 
-#include <QtGui/QMainWindow>
+#include <QMainWindow>
 
 class Mdi : public QMainWindow
 {
diff --git a/src/screenshot.cpp b/src/screenshot.cpp
index 1af228d..5e11a5a 100755
--- a/src/screenshot.cpp
+++ b/src/screenshot.cpp
@@ -36,6 +36,14 @@
 #include "screenshot.h"
 
 #include <QtGui>
+#include <QLabel>
+#include <QPushButton>
+#include <QBoxLayout>
+#include <QSpinBox>
+#include <QApplication>
+#include <QGroupBox>
+#include <QFileDialog>
+#include <QDesktopWidget>
 
 Screenshot::Screenshot()
 {
@@ -148,3 +156,6 @@ void Screenshot::updateScreenshotLabel()
     screenshotLabel->setPixmap(originalPixmap.scaled(screenshotLabel->size(),
             Qt::KeepAspectRatio, Qt::SmoothTransformation));
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Screenshot)
+#endif
diff --git a/src/screenshot.h b/src/screenshot.h
index 578180c..794c59a 100755
--- a/src/screenshot.h
+++ b/src/screenshot.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef SCREENSHOT_H
 #define SCREENSHOT_H
diff --git a/src/script.cpp b/src/script.cpp
index 11179c4..7d0ca18 100755
--- a/src/script.cpp
+++ b/src/script.cpp
@@ -150,3 +150,6 @@ void Script::actionClose() {
    this->parentWidget()->close();
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Script)
+#endif
diff --git a/src/script.h b/src/script.h
index 26c4e75..9514a6f 100755
--- a/src/script.h
+++ b/src/script.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef SCRIPT_H
 #define SCRIPT_H
diff --git a/src/sliders.cpp b/src/sliders.cpp
index 82d1f11..1e86401 100755
--- a/src/sliders.cpp
+++ b/src/sliders.cpp
@@ -36,6 +36,9 @@
 #include "sliders.h"
 
 #include <QtGui>
+#include <QSpinBox>
+#include <QDial>
+#include <QProgressBar>
 
 Sliders::Sliders()
    : QWidget()
@@ -160,3 +163,6 @@ void Sliders::rotateWidgets()
       m_rotableLayout->addWidget(m_rotableWidgets[i], 1, i);
    }
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Sliders)
+#endif
diff --git a/src/sliders.h b/src/sliders.h
index a606287..34e4109 100755
--- a/src/sliders.h
+++ b/src/sliders.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef SLIDERS_H
 #define SLIDERS_H
diff --git a/src/stdpath.cpp b/src/stdpath.cpp
index 6ebffc8..f415528 100755
--- a/src/stdpath.cpp
+++ b/src/stdpath.cpp
@@ -175,3 +175,6 @@ void StdPath::locateAll()
       m_ui->locateAll->append(locationList.at(k));
    }
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(StdPath)
+#endif
diff --git a/src/stdpath.h b/src/stdpath.h
index 245a209..bbd47e4 100755
--- a/src/stdpath.h
+++ b/src/stdpath.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef STDPATH_H
 #define STDPATH_H
diff --git a/src/style_dw.cpp b/src/style_dw.cpp
index ba5ed27..f272ffe 100755
--- a/src/style_dw.cpp
+++ b/src/style_dw.cpp
@@ -104,3 +104,6 @@ void Style_DW::styleEditClose()
    // marks the style_edit window closed
    m_style = NULL;
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Style_DW)
+#endif
diff --git a/src/style_dw.h b/src/style_dw.h
index fb7be43..730d020 100755
--- a/src/style_dw.h
+++ b/src/style_dw.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef STYLE_DW_H
 #define STYLE_DW_H
diff --git a/src/style_edit.cpp b/src/style_edit.cpp
index 5b54eda..827355b 100755
--- a/src/style_edit.cpp
+++ b/src/style_edit.cpp
@@ -38,6 +38,7 @@
 #include "style_dw.h"
 
 #include <QtGui>
+#include <QStyleFactory>
 
 const static QString qsPath = ":/resources/";
 QString Style_Edit::qssName = "Shiny";
@@ -150,3 +151,6 @@ void Style_Edit::closeEvent(QCloseEvent *event)
 }
 
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Style_Edit)
+#endif
diff --git a/src/style_edit.h b/src/style_edit.h
index 0b9b992..dc931c5 100755
--- a/src/style_edit.h
+++ b/src/style_edit.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef STYLE_EDIT_H
 #define STYLE_EDIT_H
diff --git a/src/svg_view.cpp b/src/svg_view.cpp
index 3a96303..88cd43f 100755
--- a/src/svg_view.cpp
+++ b/src/svg_view.cpp
@@ -143,3 +143,6 @@ void Svg_View::actionClose() {
    this->parentWidget()->close();
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Svg_View)
+#endif
diff --git a/src/svg_view.h b/src/svg_view.h
index 2ac13bc..e9fc962 100755
--- a/src/svg_view.h
+++ b/src/svg_view.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef SVG_VIEW_H
 #define SVG_VIEW_H
diff --git a/src/svgtextobject.cpp b/src/svgtextobject.cpp
index fb703d9..1f38fdf 100755
--- a/src/svgtextobject.cpp
+++ b/src/svgtextobject.cpp
@@ -61,3 +61,6 @@ void SvgTextObject::drawObject(QPainter *painter,
    painter->drawImage(rect, bufferedImage);
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(SvgTextObject)
+#endif
diff --git a/src/svgtextobject.h b/src/svgtextobject.h
index 96c29ee..0bb6a1c 100755
--- a/src/svgtextobject.h
+++ b/src/svgtextobject.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef SVGTEXTOBJECT_H
 #define SVGTEXTOBJECT_H
diff --git a/src/systray.cpp b/src/systray.cpp
index 4862a86..7c25546 100755
--- a/src/systray.cpp
+++ b/src/systray.cpp
@@ -36,6 +36,12 @@
 #include "systray.h"
 
 #include <QtGui>
+#include <QLayout>
+#include <QMessageBox>
+
+#ifdef W_REGISTER_ARGTYPE
+W_REGISTER_ARGTYPE(QSystemTrayIcon::ActivationReason)
+#endif
 
 const static QString sysPath = ":/resources/";
 
@@ -247,3 +253,6 @@ void SysTray::actionQuit() {
 }
 
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(SysTray)
+#endif
diff --git a/src/systray.h b/src/systray.h
index ac29603..80b2e01 100755
--- a/src/systray.h
+++ b/src/systray.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef SYSTRAY_H
 #define SYSTRAY_H
diff --git a/src/tabdialog.cpp b/src/tabdialog.cpp
index 3c1f2d2..f545d6b 100755
--- a/src/tabdialog.cpp
+++ b/src/tabdialog.cpp
@@ -182,3 +182,6 @@ void TabDialog::actionRollYourOwn()
 void TabDialog::actionClose() {
    this->parentWidget()->close();
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(TabDialog)
+#endif
diff --git a/src/tabdialog.h b/src/tabdialog.h
index 20c2259..ee4bb83 100755
--- a/src/tabdialog.h
+++ b/src/tabdialog.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef TABDIALOG_H
 #define TABDIALOG_H
diff --git a/src/tableview.cpp b/src/tableview.cpp
index e569552..c5bb12a 100755
--- a/src/tableview.cpp
+++ b/src/tableview.cpp
@@ -147,3 +147,6 @@ bool TableView::createConnection()
       QSqlRelationalTableModel
 
 */
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(TableView)
+#endif
diff --git a/src/tableview.h b/src/tableview.h
index 3c3e1dd..c1e153e 100755
--- a/src/tableview.h
+++ b/src/tableview.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef TABLEVIEW_H
 #define TABLEVIEW_H
diff --git a/src/tablewidget_view.cpp b/src/tablewidget_view.cpp
index 3d7be31..11d3b68 100755
--- a/src/tablewidget_view.cpp
+++ b/src/tablewidget_view.cpp
@@ -302,3 +302,6 @@ QTableWidget->sortItems(0, Qt::AscendingOrder)
 
 
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(TableWidget_View)
+#endif
diff --git a/src/tablewidget_view.h b/src/tablewidget_view.h
index 988a627..5355e3f 100755
--- a/src/tablewidget_view.h
+++ b/src/tablewidget_view.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef TABLEWIDGET_VIEW_H
 #define TABLEWIDGET_VIEW_H
diff --git a/src/treeview.h b/src/treeview.h
index c01bbe4..aaba437 100755
--- a/src/treeview.h
+++ b/src/treeview.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef TREEVIEW_H
 #define TREEVIEW_H
diff --git a/src/util.cpp b/src/util.cpp
index f4a4184..3e192ea 100755
--- a/src/util.cpp
+++ b/src/util.cpp
@@ -34,6 +34,7 @@
 ***********************************************************************/
 
 #include "util.h"
+#include <QIcon>
 
 void ksMsg(const QString &msg)
 {
diff --git a/src/util.h b/src/util.h
index 4e0a1be..f0a1f7d 100755
--- a/src/util.h
+++ b/src/util.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef UTIL_H
 #define UTIL_H
diff --git a/src/videoplayer.cpp b/src/videoplayer.cpp
index fdd4430..34186d6 100755
--- a/src/videoplayer.cpp
+++ b/src/videoplayer.cpp
@@ -39,6 +39,16 @@
 
 #include <QGroupBox>
 #include <QtMultimedia>
+#include <QLabel>
+#include <QLineEdit>
+#include <QTextEdit>
+#include <QLayout>
+#include <QPushButton>
+
+#ifdef W_REGISTER_ARGTYPE
+W_REGISTER_ARGTYPE(QMovie::MovieState)
+#endif
+
 
 VideoPlayer::VideoPlayer(QWidget *parent)
    : QWidget(parent), m_surface(0)
@@ -184,3 +194,6 @@ bool VideoPlayer::presentImage(const QImage &image)
 void VideoPlayer::actionClose() {
    this->parentWidget()->close();
 }
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(VideoPlayer)
+#endif
diff --git a/src/videoplayer.h b/src/videoplayer.h
index b53e225..19eeabc 100755
--- a/src/videoplayer.h
+++ b/src/videoplayer.h
@@ -32,12 +32,16 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef VIDEOPLAYER_H
 #define VIDEOPLAYER_H
 
 #include <QtGui/QMovie>
-#include <QtGui/QWidget>
+#include <QWidget>
 #include <QAbstractVideoSurface>
 
 class VideoPlayer : public QWidget
diff --git a/src/videosurface.cpp b/src/videosurface.cpp
index c71603a..2cc1d91 100755
--- a/src/videosurface.cpp
+++ b/src/videosurface.cpp
@@ -161,3 +161,6 @@ void VideoSurface::paint(QPainter *painter)
    }
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(VideoSurface)
+#endif
diff --git a/src/videosurface.h b/src/videosurface.h
index 6a8165c..d305c1f 100755
--- a/src/videosurface.h
+++ b/src/videosurface.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef VIDEOSURFACE_H
 #define VIDEOSURFACE_H
diff --git a/src/videowidget.cpp b/src/videowidget.cpp
index 2ee2d25..5349081 100755
--- a/src/videowidget.cpp
+++ b/src/videowidget.cpp
@@ -92,3 +92,6 @@ void VideoWidget::resizeEvent(QResizeEvent *event)
    surface->updateVideoRect();
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(VideoWidget)
+#endif
diff --git a/src/videowidget.h b/src/videowidget.h
index 78d7572..0eb0674 100755
--- a/src/videowidget.h
+++ b/src/videowidget.h
@@ -32,13 +32,17 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef VIDEOWIDGET_H
 #define VIDEOWIDGET_H
 
 #include "videosurface.h"
 
-#include <QtGui/QWidget>
+#include <QWidget>
 #include <QAbstractVideoSurface>
 
 class VideoWidget : public QWidget
diff --git a/src/xml.cpp b/src/xml.cpp
index 59849c2..0c00ba5 100755
--- a/src/xml.cpp
+++ b/src/xml.cpp
@@ -205,3 +205,6 @@ void Xml::actionClose() {
    this->parentWidget()->close();
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(Xml)
+#endif
diff --git a/src/xml.h b/src/xml.h
index eed6ce0..d375132 100755
--- a/src/xml.h
+++ b/src/xml.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef XML_H
 #define XML_H
diff --git a/src/xmlpatterns.cpp b/src/xmlpatterns.cpp
index 3de5643..1d28568 100755
--- a/src/xmlpatterns.cpp
+++ b/src/xmlpatterns.cpp
@@ -123,3 +123,6 @@ void XmlPatterns::evaluate(const QString &str)
     this->findChild<QTextEdit*>("outputTextEdit")->setPlainText(QString::fromUtf8(outArray.constData()));
 }
 
+#ifdef W_OBJECT_IMPL
+W_OBJECT_IMPL(XmlPatterns)
+#endif
diff --git a/src/xmlpatterns.h b/src/xmlpatterns.h
index 4ee7daf..d33dd51 100755
--- a/src/xmlpatterns.h
+++ b/src/xmlpatterns.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef XMLPATTERNS_H
 #define XMLPATTERNS_H
diff --git a/src/xmlsyntaxhighlighter.h b/src/xmlsyntaxhighlighter.h
index adbe1cc..784f3d1 100755
--- a/src/xmlsyntaxhighlighter.h
+++ b/src/xmlsyntaxhighlighter.h
@@ -32,6 +32,10 @@
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ***********************************************************************/
+#include "cs_abstraction.h"
+#if 0
+struct dummy { Q_OBJECT }; /* (for qmake) */
+#endif
 
 #ifndef XMLSYNTAXHIGHLIGHTER_H
 #define XMLSYNTAXHIGHLIGHTER_H
